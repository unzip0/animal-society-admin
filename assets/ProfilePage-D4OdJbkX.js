import{d as oe,_ as ne,o as se,l as Se,w as r,h as t,a3 as Ce,r as g,p as ie,g as re,G as W,q as U,ab as ke,f as ue,ax as de,s as z,F as N,z as pe,W as xe,R as Pe,A as $,S as _e,C as Y,D as Fe,ay as Ue,K as j,az as Ae,J as Be,Q as Ie,i as Re,j as $e,N as ze}from"./index-Ci146ojW.js";import{a as ce,e as Ne,U as Me,b as Z,c as b,V as Te}from"./VRow-BrSJPqXl.js";import{V as fe,u as ee,W as De,C as He,$ as qe,x as Ee,X as Ge,a0 as Le,a1 as Oe,t as te}from"./VContainer-BVML39xZ.js";import{a as je,k as me,l as ve,n as q,o as We,p as Je,q as Ke,r as Qe,f as Xe,V as H}from"./VTextField-DFMyGNY8.js";import{m as Ye,V as ae}from"./VSelectionControl-qHed5ItN.js";const Ze=oe({props:{title:{type:String,default:""},message:{type:String,default:""},color:{type:String,default:""},icon:{type:String,default:"mdi-account-edit"},isVisible:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}}});function et(e,a,u,n,s,i){return se(),Se(je,{modelValue:e.isVisible,"onUpdate:modelValue":a[0]||(a[0]=f=>e.isVisible=f),width:"auto"},{default:r(()=>[t(ce,{"max-width":"400","prepend-icon":e.icon,text:e.message,title:e.title,color:e.color},{default:r(()=>[t(Ne,null,{default:r(()=>[t(fe,{class:"ms-auto",text:"Ok",onClick:e.close},null,8,["onClick"])]),_:1})]),_:1},8,["prepend-icon","text","title","color"])]),_:1},8,["modelValue"])}const ge=ne(Ze,[["render",et]]),Ve=Ce("alert",()=>{const e=g(!1),a=g(""),u=g(""),n=g(""),s=g("");return{isVisible:e,title:a,message:u,icon:n,color:s,openAlert:(d,A,B,C)=>{a.value=d,u.value=A,n.value=B,s.value=C,e.value=!0},closeAlert:()=>{e.value=!1}}}),le=(e,a,u,n)=>{Ve().openAlert(e,a,u,n)},tt=oe({components:{Alert:ge},data(){const e=ee(),a=e.user;return{user:new Me(a.id,a.associationId,a.name,a.first_last_name,a.second_last_name,a.email,a.role,a.active),loading:!1,dialog:!1,alertStore:Ve(),userStore:e}},methods:{required(e){return!!e||"Field is required"},async updateUserSubmit(){const e=this,{valid:a}=await this.$refs.form.validate();a&&(this.loading=!0,await this.userStore.update(this.user).then(function(){ee().storeUser(e.user),le("Update success","User info have been updated","mdi-account-check","teal-accent-3")}).catch(function(u){le("Update failed",u.response.data.data.message,"mdi-account-off","red-lighten-4")}),this.loading=!1)}}}),at=ie({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...me(),...Ye()},"VSwitch"),lt=re()({name:"VSwitch",inheritAttrs:!1,props:at(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,a){let{attrs:u,slots:n}=a;const s=W(e,"indeterminate"),i=W(e,"modelValue"),{loaderClasses:f}=De(e),{isFocused:d,focus:A,blur:B}=ve(e),C=g(),E=U(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),M=ke(),k=U(()=>e.id||`switch-${M}`);function T(){s.value&&(s.value=!1)}function p(x){var h,P;x.stopPropagation(),x.preventDefault(),(P=(h=C.value)==null?void 0:h.input)==null||P.click()}return ue(()=>{const[x,h]=de(u),P=q.filterProps(e),G=ae.filterProps(e);return t(q,z({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":s.value},f.value,e.class]},x,P,{modelValue:i.value,"onUpdate:modelValue":I=>i.value=I,id:k.value,focused:d.value,style:e.style}),{...n,default:I=>{let{id:L,messagesId:w,isDisabled:_,isReadonly:R,isValid:V}=I;const m={model:i,isValid:V};return t(ae,z({ref:C},G,{modelValue:i.value,"onUpdate:modelValue":[l=>i.value=l,T],id:L.value,"aria-describedby":w.value,type:"checkbox","aria-checked":s.value?"mixed":void 0,disabled:_.value,readonly:R.value,onFocus:A,onBlur:B},h),{...n,default:l=>{let{backgroundColorClasses:c,backgroundColorStyles:o}=l;return t("div",{class:["v-switch__track",...c.value],style:o.value,onClick:p},[n["track-true"]&&t("div",{key:"prepend",class:"v-switch__track-true"},[n["track-true"](m)]),n["track-false"]&&t("div",{key:"append",class:"v-switch__track-false"},[n["track-false"](m)])])},input:l=>{let{inputNode:c,icon:o,backgroundColorClasses:v,backgroundColorStyles:F}=l;return t(N,null,[c,t("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":o||e.loading},e.inset?void 0:v.value],style:e.inset?void 0:F.value},[n.thumb?t(He,{defaults:{VIcon:{icon:o,size:"x-small"}}},{default:()=>[n.thumb({...m,icon:o})]}):t(qe,null,{default:()=>[e.loading?t(Ge,{name:"v-switch",active:!0,color:V.value===!1?void 0:E.value},{default:S=>n.loader?n.loader(S):t(Le,{active:S.isActive,color:S.color,indeterminate:!0,size:"16",width:"2"},null)}):o&&t(Ee,{key:String(o),icon:o,size:"x-small"},null)]})])])}})}})}),{}}}),ot=ie({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...me(),...We()},"VTextarea"),nt=re()({name:"VTextarea",directives:{Intersect:Oe},inheritAttrs:!1,props:ot(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:u,emit:n,slots:s}=a;const i=W(e,"modelValue"),{isFocused:f,focus:d,blur:A}=ve(e),B=U(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),C=U(()=>{if(u.maxlength)return u.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function E(l,c){var o,v;!e.autofocus||!l||(v=(o=c[0].target)==null?void 0:o.focus)==null||v.call(o)}const M=g(),k=g(),T=pe(""),p=g(),x=U(()=>e.persistentPlaceholder||f.value||e.active);function h(){var l;p.value!==document.activeElement&&((l=p.value)==null||l.focus()),f.value||d()}function P(l){h(),n("click:control",l)}function G(l){n("mousedown:control",l)}function I(l){l.stopPropagation(),h(),j(()=>{i.value="",Ae(e["onClick:clear"],l)})}function L(l){var o;const c=l.target;if(i.value=c.value,(o=e.modelModifiers)!=null&&o.trim){const v=[c.selectionStart,c.selectionEnd];j(()=>{c.selectionStart=v[0],c.selectionEnd=v[1]})}}const w=g(),_=g(+e.rows),R=U(()=>["plain","underlined"].includes(e.variant));xe(()=>{e.autoGrow||(_.value=+e.rows)});function V(){e.autoGrow&&j(()=>{if(!w.value||!k.value)return;const l=getComputedStyle(w.value),c=getComputedStyle(k.value.$el),o=parseFloat(l.getPropertyValue("--v-field-padding-top"))+parseFloat(l.getPropertyValue("--v-input-padding-top"))+parseFloat(l.getPropertyValue("--v-field-padding-bottom")),v=w.value.scrollHeight,F=parseFloat(l.lineHeight),S=Math.max(parseFloat(e.rows)*F+o,parseFloat(c.getPropertyValue("--v-input-control-height"))),O=parseFloat(e.maxRows)*F+o||1/0,y=Ie(v??0,S,O);_.value=Math.floor((y-o)/F),T.value=Be(y)})}Pe(V),$(i,V),$(()=>e.rows,V),$(()=>e.maxRows,V),$(()=>e.density,V);let m;return $(w,l=>{l?(m=new ResizeObserver(V),m.observe(w.value)):m==null||m.disconnect()}),_e(()=>{m==null||m.disconnect()}),ue(()=>{const l=!!(s.counter||e.counter||e.counterValue),c=!!(l||s.details),[o,v]=de(u),{modelValue:F,...S}=q.filterProps(e),O=Je(e);return t(q,z({ref:M,modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":R.value},e.class],style:e.style},o,S,{centerAffix:_.value===1&&!R.value,focused:f.value}),{...s,default:y=>{let{id:D,isDisabled:J,isDirty:K,isReadonly:he,isValid:we}=y;return t(Ke,z({ref:k,style:{"--v-textarea-control-height":T.value},onClick:P,onMousedown:G,"onClick:clear":I,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},O,{id:D.value,active:x.value||K.value,centerAffix:_.value===1&&!R.value,dirty:K.value||e.dirty,disabled:J.value,focused:f.value,error:we.value===!1}),{...s,default:ye=>{let{props:{class:Q,...X}}=ye;return t(N,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),Y(t("textarea",z({ref:p,class:Q,value:i.value,onInput:L,autofocus:e.autofocus,readonly:he.value,disabled:J.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:h,onBlur:A},X,v),null),[[Fe("intersect"),{handler:E},null,{once:!0}]]),e.autoGrow&&Y(t("textarea",{class:[Q,"v-textarea__sizer"],id:`${X.id}-sizer`,"onUpdate:modelValue":be=>i.value=be,ref:w,readonly:!0,"aria-hidden":"true"},null),[[Ue,i.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:c?y=>{var D;return t(N,null,[(D=s.details)==null?void 0:D.call(s,y),l&&t(N,null,[t("span",null,null),t(Qe,{active:e.persistentCounter||f.value,value:B.value,max:C.value,disabled:e.disabled},s.counter)])])}:void 0})}),Xe({},M,k,p)}});function st(e,a,u,n,s,i){const f=ge;return se(),Re(N,null,[t(te,{fluid:""},{default:r(()=>[t(Z,{justify:"center"},{default:r(()=>[t(b,{cols:"12",md:"8"},{default:r(()=>[t(ce,null,{default:r(()=>[t(Te,{"validate-on":"submit lazy",onSubmit:$e(e.updateUserSubmit,["prevent"]),ref:"form"},{default:r(()=>[t(te,{class:"py-0"},{default:r(()=>[t(Z,null,{default:r(()=>[t(b,{cols:"12",md:"6"},{default:r(()=>[t(H,{label:"Email Address",modelValue:e.user.email,"onUpdate:modelValue":a[0]||(a[0]=d=>e.user.email=d),disabled:""},null,8,["modelValue"])]),_:1}),t(b,{cols:"12",md:"6"},{default:r(()=>[t(H,{label:"User Name",modelValue:e.user.name,"onUpdate:modelValue":a[1]||(a[1]=d=>e.user.name=d),rules:[e.required]},null,8,["modelValue","rules"])]),_:1}),t(b,{cols:"12",md:"6"},{default:r(()=>[t(H,{label:"First last name",modelValue:e.user.first_last_name,"onUpdate:modelValue":a[2]||(a[2]=d=>e.user.first_last_name=d),rules:[e.required]},null,8,["modelValue","rules"])]),_:1}),t(b,{cols:"12",md:"6"},{default:r(()=>[t(H,{label:"Second Last Name",modelValue:e.user.second_last_name,"onUpdate:modelValue":a[3]||(a[3]=d=>e.user.second_last_name=d),rules:[e.required]},null,8,["modelValue","rules"])]),_:1}),t(b,{cols:"12"},{default:r(()=>[t(nt,{label:"About Me",value:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]),_:1}),t(b,{cols:"12"},{default:r(()=>[t(lt,{disabled:"",modelValue:e.user.active,"onUpdate:modelValue":a[4]||(a[4]=d=>e.user.active=d),label:"User is active",color:"green"},null,8,["modelValue"])]),_:1}),t(b,{cols:"12",class:"text-right"},{default:r(()=>[t(fe,{color:"teal-accent-3",class:"mr-0",type:"submit",loading:e.loading},{default:r(()=>[ze(" Update Profile ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1}),t(f,{isVisible:e.alertStore.isVisible,title:e.alertStore.title,message:e.alertStore.message,"prepend-icon":e.alertStore.icon,color:e.alertStore.color,onClose:e.alertStore.closeAlert},null,8,["isVisible","title","message","prepend-icon","color","onClose"])],64)}const ft=ne(tt,[["render",st]]);export{ft as default};
