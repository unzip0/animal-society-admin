import{_ as ne,u as ge,s as Z,m as Ve,V as X}from"./VSelectionControl-kkbMrKC3.js";import{u as ee,Y as he,C as we,a1 as be,x as ye,Z as Se,a2 as Ce,a3 as ke,t as te,V as xe}from"./VContainer-C_YVSPMU.js";import{U as Pe}from"./User-Cv_DbkUP.js";import{d as _e,p as oe,g as se,G as J,r as F,q as U,aa as Fe,f as ie,a8 as ue,h as t,s as R,F as B,z as Ue,W as pe,R as Ae,A as I,S as Ie,C as ae,D as Re,aA as Be,K as O,a9 as Ne,J as ze,Q as Me,_ as Te,o as De,i as He,w as i,j as $e,N as Ee}from"./index-B8VdrMn2.js";import{i as re,k as de,l as H,j as Ge,n as qe,o as je,p as Le,f as Oe,e as le,g as b,b as Je,V as Ke,a as D}from"./VRow-DYjb2VWY.js";const Qe=_e({components:{Alert:ne},data(){const e=ee(),l=e.user;return{user:new Pe(l.id,l.associationId,l.name,l.first_last_name,l.second_last_name,l.email,l.role,l.active),loading:!1,dialog:!1,alertStore:ge(),userStore:e}},methods:{required(e){return!!e||"Field is required"},async updateUserSubmit(){const e=this,{valid:l}=await this.$refs.form.validate();l&&(this.loading=!0,await this.userStore.update(this.user).then(function(){ee().storeUser(e.user),Z("Update success","User info have been updated","mdi-account-check","teal-accent-3")}).catch(function(m){Z("Update failed",m.response.data.data.message,"mdi-account-off","red-lighten-4")}),this.loading=!1)}}}),We=oe({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...re(),...Ve()},"VSwitch"),Ye=se()({name:"VSwitch",inheritAttrs:!1,props:We(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,l){let{attrs:m,slots:u}=l;const r=J(e,"indeterminate"),o=J(e,"modelValue"),{loaderClasses:v}=he(e),{isFocused:d,focus:$,blur:E}=de(e),N=F(),G=U(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),z=Fe(),S=U(()=>e.id||`switch-${z}`);function M(){r.value&&(r.value=!1)}function C(k){var V,x;k.stopPropagation(),k.preventDefault(),(x=(V=N.value)==null?void 0:V.input)==null||x.click()}return ie(()=>{const[k,V]=ue(m),x=H.filterProps(e),q=X.filterProps(e);return t(H,R({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},v.value,e.class]},k,x,{modelValue:o.value,"onUpdate:modelValue":p=>o.value=p,id:S.value,focused:d.value,style:e.style}),{...u,default:p=>{let{id:j,messagesId:h,isDisabled:P,isReadonly:A,isValid:g}=p;const c={model:o,isValid:g};return t(X,R({ref:N},q,{modelValue:o.value,"onUpdate:modelValue":[a=>o.value=a,M],id:j.value,"aria-describedby":h.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:P.value,readonly:A.value,onFocus:$,onBlur:E},V),{...u,default:a=>{let{backgroundColorClasses:s,backgroundColorStyles:n}=a;return t("div",{class:["v-switch__track",...s.value],style:n.value,onClick:C},[u["track-true"]&&t("div",{key:"prepend",class:"v-switch__track-true"},[u["track-true"](c)]),u["track-false"]&&t("div",{key:"append",class:"v-switch__track-false"},[u["track-false"](c)])])},input:a=>{let{inputNode:s,icon:n,backgroundColorClasses:f,backgroundColorStyles:_}=a;return t(B,null,[s,t("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":n||e.loading},e.inset?void 0:f.value],style:e.inset?void 0:_.value},[u.thumb?t(we,{defaults:{VIcon:{icon:n,size:"x-small"}}},{default:()=>[u.thumb({...c,icon:n})]}):t(be,null,{default:()=>[e.loading?t(Se,{name:"v-switch",active:!0,color:g.value===!1?void 0:G.value},{default:y=>u.loader?u.loader(y):t(Ce,{active:y.isActive,color:y.color,indeterminate:!0,size:"16",width:"2"},null)}):n&&t(ye,{key:String(n),icon:n,size:"x-small"},null)]})])])}})}})}),{}}}),Ze=oe({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...re(),...Ge()},"VTextarea"),Xe=se()({name:"VTextarea",directives:{Intersect:ke},inheritAttrs:!1,props:Ze(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:m,emit:u,slots:r}=l;const o=J(e,"modelValue"),{isFocused:v,focus:d,blur:$}=de(e),E=U(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),N=U(()=>{if(m.maxlength)return m.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function G(a,s){var n,f;!e.autofocus||!a||(f=(n=s[0].target)==null?void 0:n.focus)==null||f.call(n)}const z=F(),S=F(),M=Ue(""),C=F(),k=U(()=>e.persistentPlaceholder||v.value||e.active);function V(){var a;C.value!==document.activeElement&&((a=C.value)==null||a.focus()),v.value||d()}function x(a){V(),u("click:control",a)}function q(a){u("mousedown:control",a)}function p(a){a.stopPropagation(),V(),O(()=>{o.value="",Ne(e["onClick:clear"],a)})}function j(a){var n;const s=a.target;if(o.value=s.value,(n=e.modelModifiers)!=null&&n.trim){const f=[s.selectionStart,s.selectionEnd];O(()=>{s.selectionStart=f[0],s.selectionEnd=f[1]})}}const h=F(),P=F(+e.rows),A=U(()=>["plain","underlined"].includes(e.variant));pe(()=>{e.autoGrow||(P.value=+e.rows)});function g(){e.autoGrow&&O(()=>{if(!h.value||!S.value)return;const a=getComputedStyle(h.value),s=getComputedStyle(S.value.$el),n=parseFloat(a.getPropertyValue("--v-field-padding-top"))+parseFloat(a.getPropertyValue("--v-input-padding-top"))+parseFloat(a.getPropertyValue("--v-field-padding-bottom")),f=h.value.scrollHeight,_=parseFloat(a.lineHeight),y=Math.max(parseFloat(e.rows)*_+n,parseFloat(s.getPropertyValue("--v-input-control-height"))),L=parseFloat(e.maxRows)*_+n||1/0,w=Me(f??0,y,L);P.value=Math.floor((w-n)/_),M.value=ze(w)})}Ae(g),I(o,g),I(()=>e.rows,g),I(()=>e.maxRows,g),I(()=>e.density,g);let c;return I(h,a=>{a?(c=new ResizeObserver(g),c.observe(h.value)):c==null||c.disconnect()}),Ie(()=>{c==null||c.disconnect()}),ie(()=>{const a=!!(r.counter||e.counter||e.counterValue),s=!!(a||r.details),[n,f]=ue(m),{modelValue:_,...y}=H.filterProps(e),L=qe(e);return t(H,R({ref:z,modelValue:o.value,"onUpdate:modelValue":w=>o.value=w,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":A.value},e.class],style:e.style},n,y,{centerAffix:P.value===1&&!A.value,focused:v.value}),{...r,default:w=>{let{id:T,isDisabled:K,isDirty:Q,isReadonly:ce,isValid:fe}=w;return t(je,R({ref:S,style:{"--v-textarea-control-height":M.value},onClick:x,onMousedown:q,"onClick:clear":p,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},L,{id:T.value,active:k.value||Q.value,centerAffix:P.value===1&&!A.value,dirty:Q.value||e.dirty,disabled:K.value,focused:v.value,error:fe.value===!1}),{...r,default:me=>{let{props:{class:W,...Y}}=me;return t(B,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),ae(t("textarea",R({ref:C,class:W,value:o.value,onInput:j,autofocus:e.autofocus,readonly:ce.value,disabled:K.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:V,onBlur:$},Y,f),null),[[Re("intersect"),{handler:G},null,{once:!0}]]),e.autoGrow&&ae(t("textarea",{class:[W,"v-textarea__sizer"],id:`${Y.id}-sizer`,"onUpdate:modelValue":ve=>o.value=ve,ref:h,readonly:!0,"aria-hidden":"true"},null),[[Be,o.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:s?w=>{var T;return t(B,null,[(T=r.details)==null?void 0:T.call(r,w),a&&t(B,null,[t("span",null,null),t(Le,{active:e.persistentCounter||v.value,value:E.value,max:N.value,disabled:e.disabled},r.counter)])])}:void 0})}),Oe({},z,S,C)}});function et(e,l,m,u,r,o){const v=ne;return De(),He(B,null,[t(te,{fluid:""},{default:i(()=>[t(le,{justify:"center"},{default:i(()=>[t(b,{cols:"12",md:"8"},{default:i(()=>[t(Je,null,{default:i(()=>[t(Ke,{"validate-on":"submit lazy",onSubmit:$e(e.updateUserSubmit,["prevent"]),ref:"form"},{default:i(()=>[t(te,{class:"py-0"},{default:i(()=>[t(le,null,{default:i(()=>[t(b,{cols:"12",md:"6"},{default:i(()=>[t(D,{label:"Email Address",modelValue:e.user.email,"onUpdate:modelValue":l[0]||(l[0]=d=>e.user.email=d),disabled:""},null,8,["modelValue"])]),_:1}),t(b,{cols:"12",md:"6"},{default:i(()=>[t(D,{label:"User Name",modelValue:e.user.name,"onUpdate:modelValue":l[1]||(l[1]=d=>e.user.name=d),rules:[e.required]},null,8,["modelValue","rules"])]),_:1}),t(b,{cols:"12",md:"6"},{default:i(()=>[t(D,{label:"First last name",modelValue:e.user.first_last_name,"onUpdate:modelValue":l[2]||(l[2]=d=>e.user.first_last_name=d),rules:[e.required]},null,8,["modelValue","rules"])]),_:1}),t(b,{cols:"12",md:"6"},{default:i(()=>[t(D,{label:"Second Last Name",modelValue:e.user.second_last_name,"onUpdate:modelValue":l[3]||(l[3]=d=>e.user.second_last_name=d),rules:[e.required]},null,8,["modelValue","rules"])]),_:1}),t(b,{cols:"12"},{default:i(()=>[t(Xe,{label:"About Me",value:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]),_:1}),t(b,{cols:"12"},{default:i(()=>[t(Ye,{disabled:"",modelValue:e.user.active,"onUpdate:modelValue":l[4]||(l[4]=d=>e.user.active=d),label:"User is active",color:"green"},null,8,["modelValue"])]),_:1}),t(b,{cols:"12",class:"text-right"},{default:i(()=>[t(xe,{color:"teal-accent-3",class:"mr-0",type:"submit",loading:e.loading},{default:i(()=>[Ee(" Update Profile ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1}),t(v,{isVisible:e.alertStore.isVisible,title:e.alertStore.title,message:e.alertStore.message,"prepend-icon":e.alertStore.icon,color:e.alertStore.color,onClose:e.alertStore.closeAlert},null,8,["isVisible","title","message","prepend-icon","color","onClose"])],64)}const st=Te(Qe,[["render",et]]);export{st as default};
